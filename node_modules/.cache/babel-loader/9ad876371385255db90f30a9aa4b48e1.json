{"ast":null,"code":"import _slicedToArray from\"/Users/naman/Desktop/havi/havi-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo,useState}from\"react\";import{makeStyles,withStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import Header from\"./Header\";import config from\"../config\";import cookies,{set}from\"js-cookie\";import axios from\"axios\";import{useHistory}from\"react-router\";import Alert from\"@material-ui/lab/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1),width:\"70vw\"}},table:{// width:'70vw'\n},tableContainer:{margin:\"auto auto\",width:\"70vw\"},tableHead:{// backgroundColor:'grey'\n}};});var StyledTableCell=withStyles(function(theme){return{head:{backgroundColor:theme.palette.common.black,color:theme.palette.common.white// width:'70vw'\n},body:{fontSize:14//   width:'70vw'\n}};})(TableCell);var StyledTableRow=withStyles(function(theme){return{root:{\"&:nth-of-type(odd)\":{backgroundColor:theme.palette.action.hover}//   width:'70vw'\n}};})(TableRow);function UserInfo(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];var history=useHistory();var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];useMemo(function(){if(!cookies.get(\"token\")){history.push({pathname:\"/login\"});}else{axios.get(\"\".concat(config.baseUrl,\"/admin/users\"),{headers:{token:cookies.get(\"token\")}}).then(function(data){console.log(data);setRows(data.data);}).catch(function(error){var _error$response;var statusCode=error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status;if(statusCode===401){setErrorMessage(\"You are not authorised to view this page\");}else{setErrorMessage(\"Something went wrong\");}});}},[]);var classes=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:errorMessage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{val:\"Logout\",secondButton:{'value':'Home','path':'/listform'}}),/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:errorMessage})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{val:\"Logout\",secondButton:{'value':'Home','path':'/listform'}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,className:classes.tableContainer,style:{marginBottom:\"20px\"},children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"customized table\",children:[/*#__PURE__*/_jsx(TableHead,{style:{backgroundColor:\"grey\",color:\"white\"},children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Gender\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"D.O.B\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",style:{marginRight:\"5px\",marginLeft:\"auto\"}})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return/*#__PURE__*/_jsxs(StyledTableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:(row===null||row===void 0?void 0:row.fullname)||\"\"}),/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:(row===null||row===void 0?void 0:row.email)||\"\"}),/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:(row===null||row===void 0?void 0:row.gender)||\"\"}),/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:row===null||row===void 0?void 0:row.dob}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\"})]},row.index);})})]})})]})});}export default UserInfo;","map":{"version":3,"sources":["/Users/naman/Desktop/havi/havi-frontend/src/Component/UserInfo.js"],"names":["React","useMemo","useState","makeStyles","withStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Header","config","cookies","set","axios","useHistory","Alert","useStyles","theme","root","margin","spacing","width","table","tableContainer","tableHead","StyledTableCell","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","action","hover","UserInfo","props","rows","setRows","history","errorMessage","setErrorMessage","get","push","pathname","baseUrl","headers","token","then","data","console","log","catch","error","statusCode","response","status","classes","marginBottom","marginRight","marginLeft","map","row","fullname","email","gender","dob","index"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Header from \"./Header\";\nimport config from \"../config\";\nimport cookies, { set } from \"js-cookie\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"70vw\",\n    },\n  },\n  table: {\n    // width:'70vw'\n  },\n  tableContainer: {\n    margin: \"auto auto\",\n    width: \"70vw\",\n  },\n  tableHead: {\n    // backgroundColor:'grey'\n  },\n}));\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n    // width:'70vw'\n  },\n  body: {\n    fontSize: 14,\n    //   width:'70vw'\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n    //   width:'70vw'\n  },\n}))(TableRow);\n\nfunction UserInfo(props) {\n  const [rows, setRows] = useState([]);\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState(null);\n  useMemo(() => {\n    if (!cookies.get(\"token\")) {\n      history.push({\n        pathname: \"/login\",\n      });\n    } else {\n      axios\n        .get(`${config.baseUrl}/admin/users`, {\n          headers: {\n            token: cookies.get(\"token\"),\n          },\n        })\n        .then((data) => {\n          console.log(data);\n          setRows(data.data);\n        })\n        .catch((error) => {\n          const statusCode = error?.response?.status;\n          if (statusCode === 401) {\n            setErrorMessage(\"You are not authorised to view this page\");\n          } else {\n            setErrorMessage(\"Something went wrong\");\n          }\n        });\n    }\n  }, []);\n\n  const classes = useStyles();\n  return (\n    <>\n      {errorMessage ? (\n        <>\n          <Header val=\"Logout\" secondButton={{'value' : 'Home' , 'path' : '/listform'}}></Header>\n          <Alert severity=\"error\">{errorMessage}</Alert>\n        </>\n      ) : (\n        <div>\n          <Header val=\"Logout\" secondButton={{'value' : 'Home' , 'path' : '/listform'}}></Header>\n          <br></br>\n          <TableContainer\n            component={Paper}\n            className={classes.tableContainer}\n            style={{ marginBottom: \"20px\" }}\n          >\n            <Table className={classes.table} aria-label=\"customized table\">\n              <TableHead style={{ backgroundColor: \"grey\", color: \"white\" }}>\n                <TableRow>\n                  <StyledTableCell>Name</StyledTableCell>\n                  <StyledTableCell>Email</StyledTableCell>\n                  <StyledTableCell>Gender</StyledTableCell>\n                  <StyledTableCell>D.O.B</StyledTableCell>\n\n                  <StyledTableCell\n                    align=\"right\"\n                    style={{ marginRight: \"5px\", marginLeft: \"auto\" }}\n                  ></StyledTableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {rows.map((row) => (\n                  <StyledTableRow key={row.index}>\n                    <StyledTableCell component=\"th\" scope=\"row\">\n                      {row?.fullname || \"\"}\n                    </StyledTableCell>\n                    <StyledTableCell component=\"th\" scope=\"row\">\n                      {row?.email || \"\"}\n                    </StyledTableCell>\n                    <StyledTableCell component=\"th\" scope=\"row\">\n                      {row?.gender || \"\"}\n                    </StyledTableCell>\n                    <StyledTableCell component=\"th\" scope=\"row\">\n                      {row?.dob}\n                    </StyledTableCell>\n                    <StyledTableCell align=\"right\"></StyledTableCell>\n                  </StyledTableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default UserInfo;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/naman/Desktop/havi/havi-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useMemo}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Alert from'@material-ui/lab/Alert';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import axios from\"axios\";import cookies from\"js-cookie\";import Header from'./Header';import{useHistory}from'react-router-dom';import config from'../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:['Copyright © ',/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://material-ui.com/\",children:\"Your Website\"}),' ',new Date().getFullYear(),'.']});}var useStyles=makeStyles(function(theme){return{paper:{// width:'60vw',\nmarginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'// padding: '50px 50px',\n},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function Login(){var classes=useStyles();var history=useHistory();var paperStyle={padding:30,margin:'10vh auto',borderRadius:'10px',backgroundColor:'#F2F7F7'};var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];useMemo(function(){if(cookies.get(\"token\")){history.push({pathname:'/listform'});}},[]);function handleUserName(e){setUserName(e.target.value);}function handlePassword(e){setPassword(e.target.value);}function handleSubmit(){var loginData={email:userName,password:password};axios.post(\"\".concat(config.baseUrl,\"/login\"),loginData).then(function(data){setErrorMessage(null);cookies.set(\"token\",data.data.token);cookies.set(\"fullname\",data.data.name);history.push({pathname:'/listform'});}).catch(function(error){setErrorMessage(error);});}return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#DCDCDC\",height:'100vh',marginTop:'0'},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"paper\",{elevation:10,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",style:paperStyle,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[errorMessage&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Failed to logged in\"}),/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",placeholder:\"User Name\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:userName,onChange:handleUserName}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",placeholder:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:handlePassword}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:handleSubmit,children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/signup\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})]})]}),/*#__PURE__*/_jsx(Box,{mt:8,children:/*#__PURE__*/_jsx(Copyright,{})})]})})]});}","map":{"version":3,"sources":["/Users/naman/Desktop/havi/havi-frontend/src/Component/Login.js"],"names":["React","useState","useMemo","Avatar","Button","CssBaseline","TextField","Link","Grid","Box","Alert","LockOutlinedIcon","Typography","makeStyles","Container","axios","cookies","Header","useHistory","config","Copyright","Date","getFullYear","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Login","classes","history","paperStyle","padding","borderRadius","userName","setUserName","password","setPassword","errorMessage","setErrorMessage","get","push","pathname","handleUserName","e","target","value","handlePassword","handleSubmit","loginData","email","post","baseUrl","then","data","set","token","name","catch","error","height"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,OAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,uBAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,C,wFACA,QAASC,CAAAA,SAAT,EAAqB,CACjB,mBACI,MAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,KAAK,CAAC,QAAxD,WACK,cADL,cAEI,KAAC,IAAD,EAAM,KAAK,CAAC,SAAZ,CAAsB,IAAI,CAAC,0BAA3B,0BAFJ,CAIY,GAJZ,CAKK,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EALL,CAMK,GANL,GADJ,CAUH,CAED,GAAMC,CAAAA,SAAS,CAAGV,UAAU,CAAC,SAACW,KAAD,QAAY,CACrCC,KAAK,CAAE,CACH;AACAC,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CAFR,CAGHC,OAAO,CAAE,MAHN,CAIHC,aAAa,CAAE,QAJZ,CAKHC,UAAU,CAAE,QACZ;AANG,CAD8B,CASrCC,MAAM,CAAE,CACJC,MAAM,CAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CADJ,CAEJM,eAAe,CAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC,IAFrC,CAT6B,CAarCC,IAAI,CAAE,CACFC,KAAK,CAAE,MADL,CACa;AACfZ,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CAFT,CAb+B,CAiBrCY,MAAM,CAAE,CACJP,MAAM,CAAER,KAAK,CAACG,OAAN,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CADJ,CAjB6B,CAAZ,EAAD,CAA5B,CAsBA,cAAe,SAASa,CAAAA,KAAT,EAAiB,CAC5B,GAAMC,CAAAA,OAAO,CAAGlB,SAAS,EAAzB,CACA,GAAMmB,CAAAA,OAAO,CAAGxB,UAAU,EAA1B,CACA,GAAMyB,CAAAA,UAAU,CAAG,CAAEC,OAAO,CAAE,EAAX,CAAeZ,MAAM,CAAE,WAAvB,CAAoCa,YAAY,CAAE,MAAlD,CAA0DZ,eAAe,CAAE,SAA3E,CAAnB,CACA,cAAgChC,QAAQ,CAAC,EAAD,CAAxC,wCAAO6C,QAAP,eAAiBC,WAAjB,eACA,eAAgC9C,QAAQ,CAAC,EAAD,CAAxC,yCAAO+C,QAAP,eAAiBC,WAAjB,eACA,eAAwChD,QAAQ,CAAC,IAAD,CAAhD,yCAAOiD,YAAP,eAAqBC,eAArB,eAEAjD,OAAO,CAAC,UAAI,CACR,GAAGc,OAAO,CAACoC,GAAR,CAAY,OAAZ,CAAH,CAAwB,CACpBV,OAAO,CAACW,IAAR,CAAa,CACTC,QAAQ,CAAE,WADD,CAAb,EAGH,CACJ,CANM,CAML,EANK,CAAP,CAQA,QAASC,CAAAA,cAAT,CAAwBC,CAAxB,CAA2B,CACvBT,WAAW,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CACD,QAASC,CAAAA,cAAT,CAAwBH,CAAxB,CAA2B,CACvBP,WAAW,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CACD,QAASE,CAAAA,YAAT,EAAwB,CACpB,GAAMC,CAAAA,SAAS,CAAG,CACdC,KAAK,CAAEhB,QADO,CAEdE,QAAQ,CAAEA,QAFI,CAAlB,CAIAjC,KAAK,CAACgD,IAAN,WAAc5C,MAAM,CAAC6C,OAArB,WAAsCH,SAAtC,EAAiDI,IAAjD,CAAsD,SAACC,IAAD,CAAU,CAC5Df,eAAe,CAAC,IAAD,CAAf,CACAnC,OAAO,CAACmD,GAAR,CAAY,OAAZ,CAAqBD,IAAI,CAACA,IAAL,CAAUE,KAA/B,EACApD,OAAO,CAACmD,GAAR,CAAY,UAAZ,CAAuBD,IAAI,CAACA,IAAL,CAAUG,IAAjC,EACA3B,OAAO,CAACW,IAAR,CAAa,CACTC,QAAQ,CAAE,WADD,CAAb,EAGH,CAPD,EAOGgB,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBpB,eAAe,CAACoB,KAAD,CAAf,CACH,CATD,EAUH,CACD,mBACI,aAAK,KAAK,CAAE,CAAEtC,eAAe,CAAE,SAAnB,CAA8BuC,MAAM,CAAE,OAAtC,CAA+C9C,SAAS,CAAE,GAA1D,CAAZ,wBACI,KAAC,MAAD,IADJ,cAEI,cAAO,SAAS,CAAE,EAAlB,uBAGI,MAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,CAA0C,KAAK,CAAEiB,UAAjD,wBACI,KAAC,WAAD,IADJ,cAEI,aAAK,SAAS,CAAEF,OAAO,CAAChB,KAAxB,WAEQyB,YAAY,eAAI,KAAC,KAAD,EAAO,QAAQ,CAAC,OAAhB,iCAFxB,cAII,KAAC,MAAD,EAAQ,SAAS,CAAET,OAAO,CAACV,MAA3B,uBACI,KAAC,gBAAD,IADJ,EAJJ,cAOI,KAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,qBAPJ,cAUI,aAAK,SAAS,CAAEU,OAAO,CAACJ,IAAxB,CAA8B,UAAU,KAAxC,wBACI,KAAC,SAAD,EACI,OAAO,CAAC,UADZ,CAEI,MAAM,CAAC,QAFX,CAGI,QAAQ,KAHZ,CAII,SAAS,KAJb,CAKI,EAAE,CAAC,OALP,CAMI,WAAW,CAAC,WANhB,CAOI,IAAI,CAAC,OAPT,CAQI,YAAY,CAAC,OARjB,CASI,SAAS,KATb,CAUI,KAAK,CAAES,QAVX,CAWI,QAAQ,CAAES,cAXd,EADJ,cAcI,KAAC,SAAD,EACI,OAAO,CAAC,UADZ,CAEI,MAAM,CAAC,QAFX,CAGI,QAAQ,KAHZ,CAII,SAAS,KAJb,CAKI,IAAI,CAAC,UALT,CAMI,WAAW,CAAC,UANhB,CAOI,IAAI,CAAC,UAPT,CAQI,EAAE,CAAC,UARP,CASI,YAAY,CAAC,kBATjB,CAUI,KAAK,CAAEP,QAVX,CAWI,QAAQ,CAAEW,cAXd,EAdJ,cA2BI,KAAC,MAAD,EACI,IAAI,CAAC,QADT,CAEI,SAAS,KAFb,CAGI,OAAO,CAAC,WAHZ,CAII,KAAK,CAAC,SAJV,CAKI,SAAS,CAAElB,OAAO,CAACF,MALvB,CAMI,OAAO,CAAEqB,YANb,qBA3BJ,cAqCI,KAAC,IAAD,EAAM,IAAI,KAAV,uBACI,KAAC,IAAD,EAAM,IAAI,CAAC,SAAX,CAAqB,OAAO,CAAC,OAA7B,UACK,gCADL,EADJ,EArCJ,GAVJ,GAFJ,cAwDI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACI,KAAC,SAAD,IADJ,EAxDJ,GAHJ,EAFJ,GADJ,CAqEH","sourcesContent":["import React, { useState, useMemo } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Alert from '@material-ui/lab/Alert'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport axios from \"axios\";\nimport cookies from \"js-cookie\";\nimport Header from './Header';\nimport { useHistory } from 'react-router-dom'\nimport config from '../config'\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                Your Website\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        // width:'60vw',\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        // padding: '50px 50px',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\nexport default function Login() {\n    const classes = useStyles();\n    const history = useHistory();\n    const paperStyle = { padding: 30, margin: '10vh auto', borderRadius: '10px', backgroundColor: '#F2F7F7' }\n    const [userName, setUserName] = useState('')\n    const [password, setPassword] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useMemo(()=>{\n        if(cookies.get(\"token\")){\n            history.push({\n                pathname: '/listform'\n            })\n        }\n    },[])\n\n    function handleUserName(e) {\n        setUserName(e.target.value)\n    }\n    function handlePassword(e) {\n        setPassword(e.target.value)\n    }\n    function handleSubmit() {\n        const loginData = {\n            email: userName,\n            password: password\n        }\n        axios.post(`${config.baseUrl}/login`, loginData).then((data) => {\n            setErrorMessage(null);\n            cookies.set(\"token\", data.data.token);\n            cookies.set(\"fullname\",data.data.name)\n            history.push({\n                pathname: '/listform'\n            })\n        }).catch((error) => {\n            setErrorMessage(error);\n        })\n    }\n    return (\n        <div style={{ backgroundColor: \"#DCDCDC\", height: '100vh', marginTop: '0' }}>\n            <Header></Header>\n            <paper elevation={10} >\n\n\n                <Container component=\"main\" maxWidth=\"xs\" style={paperStyle}>\n                    <CssBaseline />\n                    <div className={classes.paper}>\n                        {\n                            errorMessage && <Alert severity=\"error\" >Failed to logged in</Alert>\n                        }\n                        <Avatar className={classes.avatar}>\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            Sign in\n                        </Typography>\n                        <div className={classes.form} noValidate>\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"email\"\n                                placeholder=\"User Name\"\n                                name=\"email\"\n                                autoComplete=\"email\"\n                                autoFocus\n                                value={userName}\n                                onChange={handleUserName}\n                            />\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                name=\"password\"\n                                placeholder=\"Password\"\n                                type=\"password\"\n                                id=\"password\"\n                                autoComplete=\"current-password\"\n                                value={password}\n                                onChange={handlePassword}\n                            />\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.submit}\n                                onClick={handleSubmit}\n                            >\n                                Sign In\n                            </Button>\n                            <Grid item>\n                                <Link href=\"/signup\" variant=\"body2\">\n                                    {\"Don't have an account? Sign Up\"}\n                                </Link>\n                            </Grid>\n                        </div>\n                    </div>\n                    <Box mt={8}>\n                        <Copyright />\n                    </Box>\n                </Container>\n            </paper>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}
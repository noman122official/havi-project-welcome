{"ast":null,"code":"import _toConsumableArray from\"/Users/naman/Desktop/havi/havi-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/naman/Desktop/havi/havi-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useMemo,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{makeStyles,withStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Header from\"./Header\";import cookies from\"js-cookie\";import axios from\"axios\";import config from\"../config\";import Alert from\"@material-ui/lab/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1),width:\"70vw\"}},table:{// width:'70vw'\n},tableContainer:{margin:\"auto auto\",width:\"70vw\"},tableHead:{// backgroundColor:'grey'\n}};});var StyledTableCell=withStyles(function(theme){return{head:{backgroundColor:theme.palette.common.black,color:theme.palette.common.white// width:'70vw'\n},body:{fontSize:14//   width:'70vw'\n}};})(TableCell);var StyledTableRow=withStyles(function(theme){return{root:{\"&:nth-of-type(odd)\":{backgroundColor:theme.palette.action.hover}//   width:'70vw'\n}};})(TableRow);function Todo(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),formValue=_useState4[0],setFormValue=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var history=useHistory();useMemo(function(){if(!cookies.get(\"token\")){history.push({pathname:\"/login\"});}else{axios.get(\"\".concat(config.baseUrl,\"/task\"),{headers:{token:cookies.get(\"token\")}}).then(function(data){setRows(data.data);}).catch(function(error){setErrorMessage(\"Something went wrong\");});}},[history]);function handleFormValue(event){setFormValue(event.target.value);}function handleFormSubmit(e){var taskData={name:formValue};axios.post(\"\".concat(config.baseUrl,\"/task\"),taskData,{headers:{token:cookies.get(\"token\")}}).then(function(data){setRows([].concat(_toConsumableArray(rows),[data.data]));setFormValue(\"\");}).catch(function(error){setErrorMessage(\"Something went wrong\");});}function handleFormCancel(e){setFormValue(\"\");}var classes=useStyles();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{val:\"Logout\",secondButton:{'value':'User List','path':'/userlist'}}),errorMessage&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:errorMessage}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{id:\"filled-basic\",label:\"Enter List Item.. \",variant:\"filled\",value:formValue,onChange:handleFormValue}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{width:\"80px\",marginRight:\"5px\"},onClick:handleFormSubmit,children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",style:{width:\"80px\"},onClick:handleFormCancel,children:\"Clear\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,className:classes.tableContainer,style:{marginBottom:\"20px\"},children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"customized table\",children:[/*#__PURE__*/_jsx(TableHead,{style:{backgroundColor:\"grey\",color:\"white\"},children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:\"List Item\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",style:{marginRight:\"5px\",marginLeft:\"auto\"}})]})}),/*#__PURE__*/_jsx(TableBody,{children:rows.map(function(row){return/*#__PURE__*/_jsxs(StyledTableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:row.name}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\"})]},row.index);})})]})})]});}export default Todo;","map":{"version":3,"sources":["/Users/naman/Desktop/havi/havi-frontend/src/Component/Todo.js"],"names":["React","useMemo","useState","useHistory","makeStyles","withStyles","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Header","cookies","axios","config","Alert","useStyles","theme","root","margin","spacing","width","table","tableContainer","tableHead","StyledTableCell","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","action","hover","Todo","props","rows","setRows","formValue","setFormValue","errorMessage","setErrorMessage","history","get","push","pathname","baseUrl","headers","token","then","data","catch","error","handleFormValue","event","target","value","handleFormSubmit","e","taskData","name","post","handleFormCancel","classes","marginRight","marginBottom","marginLeft","map","row","index"],"mappings":"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","sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Header from \"./Header\";\nimport cookies from \"js-cookie\";\nimport axios from \"axios\";\nimport config from \"../config\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"70vw\",\n    },\n  },\n  table: {\n    // width:'70vw'\n  },\n  tableContainer: {\n    margin: \"auto auto\",\n    width: \"70vw\",\n  },\n  tableHead: {\n    // backgroundColor:'grey'\n  },\n}));\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n    // width:'70vw'\n  },\n  body: {\n    fontSize: 14,\n    //   width:'70vw'\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.action.hover,\n    },\n    //   width:'70vw'\n  },\n}))(TableRow);\n\nfunction Todo(props) {\n  const [rows, setRows] = useState([]);\n  const [formValue, setFormValue] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const history = useHistory();\n  useMemo(() => {\n    if (!cookies.get(\"token\")) {\n      history.push({\n        pathname: \"/login\",\n      });\n    } else {\n      axios\n        .get(`${config.baseUrl}/task`, {\n          headers: {\n            token: cookies.get(\"token\"),\n          },\n        })\n        .then((data) => {\n          setRows(data.data);\n        })\n        .catch((error) => {\n            setErrorMessage(\"Something went wrong\");\n        });\n    }\n  }, [history]);\n\n  function handleFormValue(event) {\n    setFormValue(event.target.value);\n  }\n  function handleFormSubmit(e) {\n    const taskData = {\n      name: formValue,\n    };\n    axios\n      .post(`${config.baseUrl}/task`, taskData, {\n        headers: {\n          token: cookies.get(\"token\"),\n        },\n      })\n      .then((data) => {\n        setRows([...rows, data.data]);\n        setFormValue(\"\");\n      })\n      .catch((error) => {\n        setErrorMessage(\"Something went wrong\");\n      });\n  }\n\n  function handleFormCancel(e) {\n    setFormValue(\"\");\n  }\n\n  const classes = useStyles();\n  return (\n    <div>\n      <Header val=\"Logout\" secondButton={{'value' : 'User List' , 'path' : '/userlist'}}></Header>\n      {errorMessage && <Alert severity=\"error\">{errorMessage}</Alert>}\n      <br></br>\n      <br></br>\n      <div className={classes.root} noValidate autoComplete=\"off\">\n        <TextField\n          id=\"filled-basic\"\n          label=\"Enter List Item.. \"\n          variant=\"filled\"\n          value={formValue}\n          onChange={handleFormValue}\n        />\n        <br></br>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          style={{ width: \"80px\", marginRight: \"5px\" }}\n          onClick={handleFormSubmit}\n        >\n          Submit\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          style={{ width: \"80px\" }}\n          onClick={handleFormCancel}\n        >\n          Clear\n        </Button>\n      </div>\n      <br></br>\n      <br></br>\n      <br></br>\n      <TableContainer\n        component={Paper}\n        className={classes.tableContainer}\n        style={{ marginBottom: \"20px\" }}\n      >\n        <Table className={classes.table} aria-label=\"customized table\">\n          <TableHead style={{ backgroundColor: \"grey\", color: \"white\" }}>\n            <TableRow>\n              <StyledTableCell>List Item</StyledTableCell>\n              <StyledTableCell\n                align=\"right\"\n                style={{ marginRight: \"5px\", marginLeft: \"auto\" }}\n              ></StyledTableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <StyledTableRow key={row.index}>\n                <StyledTableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </StyledTableCell>\n\n                <StyledTableCell align=\"right\" />\n              </StyledTableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}
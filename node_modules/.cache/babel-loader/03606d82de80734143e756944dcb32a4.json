{"ast":null,"code":"var _jsxFileName = \"/Users/naman/Desktop/havi/1st app/frontend with login only/src/Component/Welcome.js\";\nimport React, { useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport cookies from \"js-cookie\";\nimport Header from \"./Header\";\nimport { useHistory } from \"react-router-dom\";\nimport config from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Welcome() {\n  var _s = $RefreshSig$();\n\n  function UserInfo(props) {\n    _s();\n\n    const [rows, setRows] = useState([]);\n    const history = useHistory();\n    const [errorMessage, setErrorMessage] = useState(null);\n    useMemo(() => {\n      if (!cookies.get(\"token\")) {\n        history.push({\n          pathname: \"/login\"\n        });\n      } else {\n        axios.get(`${config.baseUrl}/admin/users`, {\n          headers: {\n            token: cookies.get(\"token\")\n          }\n        }).then(data => {\n          console.log(data);\n          setRows(data.data);\n        }).catch(error => {\n          var _error$response;\n\n          const statusCode = error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n\n          if (statusCode === 401) {\n            setErrorMessage(\"You are not authorised to view this page\");\n          } else {\n            setErrorMessage(\"Something went wrong\");\n          }\n        });\n      }\n    }, []);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#DCDCDC\",\n        height: \"100vh\",\n        marginTop: \"0\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }, this);\n  }\n\n  _s(UserInfo, \"Blq7NjPHWR/1UgE10jyqwB9aTbQ=\", false, function () {\n    return [useHistory];\n  });\n}\n_c = Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["/Users/naman/Desktop/havi/1st app/frontend with login only/src/Component/Welcome.js"],"names":["React","useState","useMemo","axios","cookies","Header","useHistory","config","Welcome","UserInfo","props","rows","setRows","history","errorMessage","setErrorMessage","get","push","pathname","baseUrl","headers","token","then","data","console","log","catch","error","statusCode","response","status","backgroundColor","height","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,OAA1B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAC9B,WAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACrB,UAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,UAAMY,OAAO,GAAGP,UAAU,EAA1B;AACA,UAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,IAAD,CAAhD;AACAC,IAAAA,OAAO,CAAC,MAAM;AACZ,UAAI,CAACE,OAAO,CAACY,GAAR,CAAY,OAAZ,CAAL,EAA2B;AACzBH,QAAAA,OAAO,CAACI,IAAR,CAAa;AACXC,UAAAA,QAAQ,EAAE;AADC,SAAb;AAGD,OAJD,MAIO;AACLf,QAAAA,KAAK,CACFa,GADH,CACQ,GAAET,MAAM,CAACY,OAAQ,cADzB,EACwC;AACpCC,UAAAA,OAAO,EAAE;AACPC,YAAAA,KAAK,EAAEjB,OAAO,CAACY,GAAR,CAAY,OAAZ;AADA;AAD2B,SADxC,EAMGM,IANH,CAMSC,IAAD,IAAU;AACdC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAX,UAAAA,OAAO,CAACW,IAAI,CAACA,IAAN,CAAP;AACD,SATH,EAUGG,KAVH,CAUUC,KAAD,IAAW;AAAA;;AAChB,gBAAMC,UAAU,GAAGD,KAAH,aAAGA,KAAH,0CAAGA,KAAK,CAAEE,QAAV,oDAAG,gBAAiBC,MAApC;;AACA,cAAIF,UAAU,KAAK,GAAnB,EAAwB;AACtBb,YAAAA,eAAe,CAAC,0CAAD,CAAf;AACD,WAFD,MAEO;AACLA,YAAAA,eAAe,CAAC,sBAAD,CAAf;AACD;AACF,SAjBH;AAkBD;AACF,KAzBM,EAyBJ,EAzBI,CAAP;AA2BN,wBACE;AACA,MAAA,KAAK,EAAE;AAAEgB,QAAAA,eAAe,EAAE,SAAnB;AAA8BC,QAAAA,MAAM,EAAE,OAAtC;AAA+CC,QAAAA,SAAS,EAAE;AAA1D,OADP;AAAA,6BAEE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AAtCiC,KACrBxB,QADqB;AAAA,YAGVH,UAHU;AAAA;AAuCjC;KAvCuBE,O","sourcesContent":["import React, { useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport cookies from \"js-cookie\";\nimport Header from \"./Header\";\nimport { useHistory } from \"react-router-dom\";\nimport config from \"../config\";\n\nexport default function Welcome() {\n    function UserInfo(props) {\n        const [rows, setRows] = useState([]);\n        const history = useHistory();\n        const [errorMessage, setErrorMessage] = useState(null);\n        useMemo(() => {\n          if (!cookies.get(\"token\")) {\n            history.push({\n              pathname: \"/login\",\n            });\n          } else {\n            axios\n              .get(`${config.baseUrl}/admin/users`, {\n                headers: {\n                  token: cookies.get(\"token\"),\n                },\n              })\n              .then((data) => {\n                console.log(data);\n                setRows(data.data);\n              })\n              .catch((error) => {\n                const statusCode = error?.response?.status;\n                if (statusCode === 401) {\n                  setErrorMessage(\"You are not authorised to view this page\");\n                } else {\n                  setErrorMessage(\"Something went wrong\");\n                }\n              });\n          }\n        }, []);\n    \n  return (\n    <div\n    style={{ backgroundColor: \"#DCDCDC\", height: \"100vh\", marginTop: \"0\" }}>\n      <Header></Header>\n    </div>\n  );\n}\n}"]},"metadata":{},"sourceType":"module"}